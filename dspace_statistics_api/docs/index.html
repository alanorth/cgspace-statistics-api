<!DOCTYPE html>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <title>DSpace Statistics API</title>
    </head>
    <body>
        <h1>DSpace Statistics API</h1>
        <p>This site is running the <a href="https://github.com/ilri/dspace-statistics-api" title="DSpace Statistics API project">DSpace Statistics API</a>. The following endpoints are available:</p>
        <ul>
            <li>GET <code>/</code> — return a basic API documentation page.</li>
            <li>GET <code>/items</code> — return views and downloads for all items that Solr knows about¹. Accepts <code>limit</code> and <code>page</code> query parameters for pagination of results (<code>limit</code> must be an integer between 1 and 100, and <code>page</code> must be an integer greater than or equal to 0).</li>
            <li>POST <code>/items</code> — return views and downloads for an arbitrary list of items. Accepts <code>limit</code>, <code>page</code>, <code>dateFrom</code>, and <code>dateTo</code> parameters².</li>
            <li>GET <code>/item/id</code> — return views and downloads for a single item (<code>id</code> must be a UUID). Returns HTTP 404 if an item id is not found.</li>
        </ul>

        <p>The item id is the <em>internal</em> uuid for an item. You can get these from the standard DSpace REST API.</p>

        <hr/>

        <p>¹ We are querying the Solr statistics core, which technically only knows about items that have either views or downloads. If an item is not present here you can assume it has zero views and zero downloads, but not necessarily that it does not exist in the repository.</code>
        <p>² POST requests to <code>/items</code> should be in JSON format with the following parameters:
			<pre>
				<code>
{
	"limit": 100, // optional, integer between 0 and 100, default 100
	"page": 0, // optional, integer greater than 0, default 0
	"dateFrom": "2020-01-01T00:00:00Z", // optional, default *
	"dateTo": "2020-09-09T00:00:00Z", // optional, default *
	"items": [
		"f44cf173-2344-4eb2-8f00-ee55df32c76f",
		"2324aa41-e9de-4a2b-bc36-16241464683e",
		"8542f9da-9ce1-4614-abf4-f2e3fdb4b305",
		"0fe573e7-042a-4240-a4d9-753b61233908"
	]
}
				</code>
			</pre>
		</p>
    </body>
</html>
